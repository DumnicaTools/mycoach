<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Coach - Strava Performance Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()">
        <i data-lucide="sun" id="theme-icon"></i>
    </button>

    <button class="menu-toggle" onclick="toggleMenu()">
        <i data-lucide="menu"></i>
    </button>
    
    <div class="app-container">
        <nav class="sidebar">
            <div class="nav-brand">
                <div class="logo">
                    <i data-lucide="zap" class="logo-icon"></i>
                </div>
                <h1 class="brand-text">My Coach</h1>
            </div>
            <ul class="nav-menu">
                <li class="nav-item active">
                    <a href="#dashboard" class="nav-link" data-page="dashboard">
                        <i data-lucide="home"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#goals" class="nav-link" data-page="goals">
                        <i data-lucide="target"></i>
                        <span>Goals</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#activities" class="nav-link" data-page="activities">
                        <i data-lucide="activity"></i>
                        <span>Activities</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#achievements" class="nav-link" data-page="achievements">
                        <i data-lucide="trophy"></i>
                        <span>Achievements</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#settings" class="nav-link" data-page="settings">
                        <i data-lucide="settings"></i>
                        <span>Settings</span>
                    </a>
                </li>
            </ul>
            <div class="nav-footer">
                <button class="sync-btn" onclick="syncStravaData()">
                    <i data-lucide="refresh-cw"></i>
                    <span id="sync-text">Sync Strava</span>
                </button>
            </div>
        </nav>

        <main class="main-content">
            <!-- Dashboard Page -->
            <div id="dashboard-page" class="page active">
                <header class="header">
                    <div class="welcome-section">
                        <h2 class="welcome-title">Welcome back, Athlete</h2>
                        <p class="welcome-subtitle">Your Strava data is synced and ready to crush those goals</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-primary">
                            <i data-lucide="plus"></i>
                            New Goal
                        </button>
                    </div>
                </header>

                <div class="dashboard-grid">
                    <section class="stats-overview">
                        <div class="stat-card primary">
                            <div class="stat-icon">
                                <i data-lucide="activity"></i>
                            </div>
                            <div class="stat-content">
                                <h3 class="stat-value">47.2</h3>
                                <p class="stat-label">km this week</p>
                                <span class="stat-change positive">+12.3% vs last week</span>
                                <div class="goal-vs-actual">
                                    <div class="goal-bar">
                                        <div class="actual-bar" style="width: 68%">
                                            <span>47.2 / 69.2km goal</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i data-lucide="clock"></i>
                            </div>
                            <div class="stat-content">
                                <h3 class="stat-value">4:32</h3>
                                <p class="stat-label">avg pace/km</p>
                                <span class="stat-change positive">-0:15s vs last week</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i data-lucide="trending-up"></i>
                            </div>
                            <div class="stat-content">
                                <h3 class="stat-value">1,247</h3>
                                <p class="stat-label">elevation gain (m)</p>
                                <span class="stat-change positive">+342m vs last week</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i data-lucide="fire"></i>
                            </div>
                            <div class="stat-content">
                                <h3 class="stat-value">5</h3>
                                <p class="stat-label">day streak</p>
                                <span class="stat-change neutral">Keep it going!</span>
                            </div>
                        </div>
                    </section>

                    <section class="goals-section">
                        <div class="section-header">
                            <h3>Active Goals</h3>
                            <a href="#" class="view-all">View all</a>
                        </div>
                        <div class="goals-grid">
                            <div class="goal-card">
                                <div class="goal-header">
                                    <div class="goal-icon">
                                        <i data-lucide="target"></i>
                                    </div>
                                    <div class="goal-info">
                                        <h4>Run 100km this month</h4>
                                        <p>Monthly Distance Goal</p>
                                    </div>
                                    <div class="goal-progress">
                                        <div class="progress-ring">
                                            <svg>
                                                <circle cx="20" cy="20" r="16" />
                                                <circle cx="20" cy="20" r="16" class="progress" />
                                            </svg>
                                            <span>68%</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="goal-stats">
                                    <div class="stat">
                                        <span class="value">68km</span>
                                        <span class="label">completed</span>
                                    </div>
                                    <div class="stat">
                                        <span class="value">32km</span>
                                        <span class="label">remaining</span>
                                    </div>
                                    <div class="stat">
                                        <span class="value">12 days</span>
                                        <span class="label">left</span>
                                    </div>
                                </div>
                            </div>

                            <div class="goal-card">
                                <div class="goal-header">
                                    <div class="goal-icon">
                                        <i data-lucide="mountain"></i>
                                    </div>
                                    <div class="goal-info">
                                        <h4>Climb 2,500m elevation</h4>
                                        <p>Monthly Elevation Goal</p>
                                    </div>
                                    <div class="goal-progress">
                                        <div class="progress-ring">
                                            <svg>
                                                <circle cx="20" cy="20" r="16" />
                                                <circle cx="20" cy="20" r="16" class="progress" />
                                            </svg>
                                            <span>50%</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="goal-stats">
                                    <div class="stat">
                                        <span class="value">1,247m</span>
                                        <span class="label">completed</span>
                                    </div>
                                    <div class="stat">
                                        <span class="value">1,253m</span>
                                        <span class="label">remaining</span>
                                    </div>
                                    <div class="stat">
                                        <span class="value">12 days</span>
                                        <span class="label">left</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section class="recent-activities">
                        <div class="section-header">
                            <h3>Recent Activities</h3>
                            <a href="#" class="view-all">View all</a>
                        </div>
                        <div class="activities-list">
                            <div class="activity-item">
                                <div class="activity-icon running">
                                    <i data-lucide="person-running"></i>
                                </div>
                                <div class="activity-info">
                                    <h4>Morning Run</h4>
                                    <p>Today, 7:30 AM</p>
                                </div>
                                <div class="activity-stats">
                                    <span class="distance">8.5km</span>
                                    <span class="time">42:15</span>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon cycling">
                                    <i data-lucide="bike"></i>
                                </div>
                                <div class="activity-info">
                                    <h4>Hill Training</h4>
                                    <p>Yesterday, 6:00 AM</p>
                                </div>
                                <div class="activity-stats">
                                    <span class="distance">25.3km</span>
                                    <span class="time">1:32:45</span>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon running">
                                    <i data-lucide="person-running"></i>
                                </div>
                                <div class="activity-info">
                                    <h4>Evening Recovery</h4>
                                    <p>2 days ago, 5:30 PM</p>
                                </div>
                                <div class="activity-stats">
                                    <span class="distance">5.2km</span>
                                    <span class="time">26:18</span>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section class="performance-chart">
                        <div class="section-header">
                            <h3>Weekly Performance</h3>
                            <select class="chart-select">
                                <option>Distance</option>
                                <option>Elevation</option>
                                <option>Pace</option>
                            </select>
                        </div>
                        <div class="chart-container">
                            <canvas id="performanceChart"></canvas>
                        </div>
                    </section>
                </div>
            </div>

            <!-- Goals Page -->
            <div id="goals-page" class="page">
                <header class="header">
                    <div class="welcome-section">
                        <h2 class="welcome-title">Goals & Progress</h2>
                        <p class="welcome-subtitle">Track your fitness achievements and crush those targets</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-primary">
                            <i data-lucide="plus"></i>
                            New Goal
                        </button>
                    </div>
                </header>

                <section class="goals-detailed">
                    <div class="goals-summary-cards">
                        <div class="summary-card">
                            <h3>8</h3>
                            <p>Active Goals</p>
                        </div>
                        <div class="summary-card">
                            <h3>73%</h3>
                            <p>Average Progress</p>
                        </div>
                        <div class="summary-card">
                            <h3>3</h3>
                            <p>Goals Completed</p>
                        </div>
                    </div>

                    <div class="goals-filters">
                        <button class="filter-btn active">All Goals</button>
                        <button class="filter-btn">Distance</button>
                        <button class="filter-btn">Time</button>
                        <button class="filter-btn">Elevation</button>
                        <button class="filter-btn">Completed</button>
                    </div>

                    <div class="goals-detailed-grid">
                        <!-- Expanded goals view will be populated here -->
                    </div>
                </section>
            </div>

            <!-- Activities Page -->
            <div id="activities-page" class="page">
                <header class="header">
                    <div class="welcome-section">
                        <h2 class="welcome-title">Activities</h2>
                        <p class="welcome-subtitle">Analyze your workouts and gain insights from every session</p>
                    </div>
                </header>

                <section class="activities-detailed">
                    <div class="activities-filters">
                        <select class="filter-select">
                            <option>All Activities</option>
                            <option>Runs</option>
                            <option>Rides</option>
                            <option>Swims</option>
                        </select>
                        <select class="filter-select">
                            <option>Last 30 days</option>
                            <option>Last week</option>
                            <option>This month</option>
                            <option>This year</option>
                        </select>
                    </div>

                    <div class="activities-chart">
                        <h3>Activity Volume vs Goals Trend</h3>
                        <canvas id="activitiesTrendChart"></canvas>
                    </div>

                    <div class="activities-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Activity</th>
                                    <th>Type</th>
                                    <th>Date</th>
                                    <th>Distance</th>
                                    <th>Time</th>
                                    <th>Pace</th>
                                    <th>vs Goal</th>
                                </tr>
                            </thead>
                            <tbody id="activities-tbody">
                                <!-- Populated dynamically -->
                            </tbody>
                        </table>
                    </div>
                </section>
            </div>

            <!-- Achievements Page -->
            <div id="achievements-page" class="page">
                <header class="header">
                    <div class="welcome-section">
                        <h2 class="welcome-title">Achievements</h2>
                        <p class="welcome-subtitle">Celebrate your milestones and unlock new challenges</p>
                    </div>
                </header>

                <section class="achievements-section">
                    <div class="achievements-stats">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i data-lucide="award"></i>
                            </div>
                            <div class="stat-content">
                                <h3 class="stat-value">24</h3>
                                <p class="stat-label">Total Achievements</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i data-lucide="star"></i>
                            </div>
                            <div class="stat-content">
                                <h3 class="stat-value">8</h3>
                                <p class="stat-label">This Month</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i data-lucide="medal"></i>
                            </div>
                            <div class="stat-content">
                                <h3 class="stat-value">5</h3>
                                <p class="stat-label">Rare Achievements</p>
                            </div>
                        </div>
                    </div>

                    <div class="achievements-grid">
                        <div class="achievement-card unlocked">
                            <div class="achievement-badge">
                                <i data-lucide="zap"></i>
                            </div>
                            <h4>Speed Demon</h4>
                            <p>Run a 5K under 20 minutes</p>
                            <div class="achievement-date">Earned: Oct 15, 2024</div>
                        </div>
                        <!-- More achievement cards... -->
                    </div>
                </section>
            </div>

            <!-- Settings Page -->
            <div id="settings-page" class="page">
                <header class="header">
                    <div class="welcome-section">
                        <h2 class="welcome-title">Settings</h2>
                        <p class="welcome-subtitle">Manage your profile and connect your Strava account</p>
                    </div>
                </header>

                <section class="settings-grid">
                    <div class="settings-card">
                        <h3>Profile Settings</h3>
                        <div class="form-group">
                            <label>Display Name</label>
                            <input type="text" id="display-name" value="Athlete" />
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="email" value="athlete@example.com" />
                        </div>
                        <div class="form-group">
                            <label>Profile Picture</label>
                            <div class="avatar-upload">
                                <img id="avatar-preview" src="https://via.placeholder.com/64x64" alt="Avatar" />
                                <input type="file" id="avatar-input" accept="image/*" />
                                <button class="btn btn-primary" onclick="uploadAvatar()">Upload</button>
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="saveProfileSettings()">Save Changes</button>
                    </div>

                    <div class="settings-card">
                        <h3>Strava Connection</h3>
                        <div class="strava-connection" id="strava-connection">
                            <div class="connection-status">
                                <div class="status-indicator">
                                    <i data-lucide="link" id="strava-status-icon"></i>
                                </div>
                                <div class="status-info">
                                    <h4 id="strava-status">Not Connected</h4>
                                    <p id="strava-details">Connect your Strava account to sync activities</p>
                                </div>
                            </div>
                            <button class="btn btn-strava" id="strava-btn" onclick="toggleStravaConnection()">
                                <i data-lucide="zap"></i>
                                <span id="strava-btn-text">Connect to Strava</span>
                            </button>
                        </div>
                    </div>

                    <div class="settings-card">
                        <h3>Preferences</h3>
                        <div class="preference-item">
                            <label>Theme</label>
                            <select id="theme-select" onchange="changeThemePreference()">
                                <option value="system">System</option>
                                <option value="dark">Dark</option>
                                <option value="light">Light</option>
                            </select>
                        </div>
                        <div class="preference-item">
                            <label>Auto-sync</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="auto-sync" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="preference-item">
                            <label>Notifications</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="notifications" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="settings-card">
                        <h3>Account Actions</h3>
                        <button class="btn btn-secondary" onclick="exportData()">
                            <i data-lucide="download"></i>
                            Export Data
                        </button>
                        <button class="btn btn-danger" onclick="deleteAccount()">
                            <i data-lucide="trash-2"></i>
                            Delete Account
                        </button>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>